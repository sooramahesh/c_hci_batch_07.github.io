<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        body {
            font-family: Arial, serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
        }

        header {
            background-color: #0077b6;
            color: white;
            text-align: center;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            color: #333;
            font-size: 28px;
            text-align: center;
        }

        h2 {
            color: #0077b6;
            font-size: 24px;
            text-align: center;
        }

        .filter-section {
            text-align: center;
            margin-bottom: 20px;
            width: 100%;
        }

        label {
            font-weight: bold;
        }

        /* Mobile-specific styles */
        @media (max-width: 590px) {
            select,
            button {
                display: block;
                width: 100%;
                margin-bottom: 10px;
            }

            .list {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                grid-gap: 18px;
                list-style-type: none;
                padding: 0;
            }
        }

        /* Desktop-specific styles */
        @media (min-width: 589px) {
            select {
                width: 150px;
                margin-right: 10px;
            }

            .list {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                grid-gap: 18px;
                list-style-type: none;
                padding: 0;
            }
        }

        select,
        button {
            font-size: 16px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        button {
            background-color: #0077b6;
            color: white;
            cursor: pointer;
        }

        button:hover {
            background-color: #005691;
        }

        .list-container {
            text-align: center;
        }

        li {
            display: none;
            background-color: white;
            border: 1px solid #ddd;
            padding: 15px;
            text-align: center;
            transition: background-color 0.3s ease;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }

        li:hover {
            background-color: #f0f0f0;
        }

        li a {
            text-decoration: none;
            color: #0077b6;
            font-weight: bold;
        }

        p {
            font-family: "Times New Roman", Times, serif;
            font-size: 24px;
            margin-top: 20px;
            color: #888;
        }

        /* Add new styles for the error message */
        #errorMessage {
            display: none;
            text-align: center;
            margin-top: 20px;
        }

        #errorMessage p {
            color: #ff0000;
            font-size: 24px;
        }

        #errorMessage .fa-exclamation-circle {
            font-size: 30px;
        }
    </style>
</head>
<body>
<div>
    <img src="https://sraap.in/student/h1.png" width="100%" align="center">
</div>
<h2>STUDENT TIMETABLE</h2>
<div class="container">
    <div class="filter-section">
        <label for="yearDropdown">Select Year:</label>
        <select id="yearDropdown">
            <option value="" disabled selected>Select Year</option>
            <option value="1">I</option>
            <option value="2">II</option>
            <option value="3">III</option>
            <option value="4">IV</option>
        </select>
        <label for="branchDropdown">Select Branch:</label>
        <select id="branchDropdown">
            <option value="" disabled selected>Select Branch</option>
            <option value="CSE-">CSE</option>
            <option value="CSE_AIML">CSE-AIML</option>
            <option value="CSE_DSCS">CSE-DSCS</option>
            <option value="ECE">ECE</option>
            <option value="EEE">EEE</option>
            <option value="CIVIL">CIVIL</option>
            <option value="MECH">MECH</option>
        </select>
        <button onclick="filterTimetable()">Search</button>
    </div>
    <div class="list-container">
        <p id="displayMessage">Select a branch and year to display the timetable.</p>
        <!-- Add the error message container -->
        <div id="errorMessage">
            <p><i class="fas fa-exclamation-circle"></i> <span id="errorText"></span></p>
        </div>
        <ul class="list" id="myUL">
            <li id="2-CSE-A"><a href="https://timetable.static.domains/2cse-a">CSE-A</a></li>
            <li id="2-CSE-B"><a href="https://timetable.static.domains/2cse-b">CSE-B</a></li>
            <li id="2-CSE-C"><a href="https://timetable.static.domains/2cse-c">CSE-C</a></li>
            <li id="2-CSE-D"><a href="https://timetable.static.domains/2cse-d">CSE-D</a></li>
            <li id="2-CSE-E"><a href="https://timetable.static.domains/2cse-e">CSE-E</a></li>
            <li id="2-CSE-F"><a href="https://timetable.static.domains/2cse-f">CSE-F</a></li>
            <li id="2-CSE-G"><a href="https://timetable.static.domains/2cse-g">CSE-G</a></li>
            <li id="2-CSE-H"><a href="https://timetable.static.domains/2cse-h">CSE-H</a></li>
            <li id="2-CSE-I"><a href="https://timetable.static.domains/2cse-i">CSE-I</a></li>
            <li id="2-CSE-J"><a href="https://timetable.static.domains/2cse-j">CSE-J</a></li>
            <li id="2-CSE-K"><a href="https://timetable.static.domains/2cse-k">CSE-K</a></li>
            <li id="2-CSE-L"><a href="https://timetable.static.domains/2CSE-L.html">CSE-L</a></li>
            <li id="2-CSE-M"><a href="https://timetable.static.domains/2CSE-M.html">CSE-M</a></li>
            <li id="2-CSE-N"><a href="https://timetable.static.domains/2cse-n">CSE-N</a></li>
            <li id="2-CSE-O"><a href="https://timetable.static.domains/2-cse-o">CSE-O</a></li>
            <li id="2-CSE_AIML-A"><a href="https://timetable.static.domains/2cse-aiml-a">CSE-AIML A</a></li>
            <li id="2-CSE_AIML-B"><a href="https://timetable.static.domains/2cse-aiml-b">CSE-AIML B</a></li>
            <li id="2-CSE_AIML-C"><a href="https://timetable.static.domains/2cse-aiml-c">CSE-AIML C</a></li>
            <li id="2-CSE_AIML-D"><a href="https://timetable.static.domains/2cse-aiml-d">CSE-AIML D</a></li>
            <li id="2-CSE_DSCS"><a href="https://timetable.static.domains/2csedscs">CSE-DSCS</a></li>
        </ul>
    </div>
</div>
<script>
    window.onload = function () {
        filterTimetable();
    }

    function filterTimetable() {
        var branchDropdown = document.getElementById("branchDropdown");
        var yearDropdown = document.getElementById("yearDropdown");
        var selectedBranch = branchDropdown.value;
        var selectedYear = yearDropdown.value;
        var selectedBranchText = branchDropdown.options[branchDropdown.selectedIndex].text;
        var selectedYearText = yearDropdown.options[yearDropdown.selectedIndex].text;

        var li = document.querySelectorAll("#myUL li");
        var displayMessage = document.getElementById("displayMessage");
        var errorMessage = document.getElementById("errorMessage");
        var errorText = document.getElementById("errorText");

        if (selectedBranch && selectedYear) {
            displayMessage.textContent =
                "Displaying sections in " + selectedYearText + " year " + selectedBranchText + " Branch ";
            var x = 0;

            for (var i = 0; i < li.length; i++) {
                var item = li[i];
                var itemId = item.id;
                if (itemId.startsWith(selectedYear + "-" + selectedBranch)) {
                    item.style.display = "grid";
                    x++;
                } else {
                    item.style.display = "none";
                }
            }

            if (x === 0) {
                displayMessage.textContent =""
                errorMessage.style.display = "block";
                errorText.textContent =
                    "Sorry, No data Available for " + selectedYearText + " year " + selectedBranchText + " Branch ";
            } else {
                errorMessage.style.display = "none";
            }
        } else {
            if (selectedBranch) {
                displayMessage.textContent = "Select a year to display the timetable.";
                alert("Select a year to display the timetable.");
            }
            else if (selectedYear) {
                displayMessage.textContent = "Select a branch to display the timetable.";
                alert("Select a branch to display the timetable.");
            }
            for (var i = 0; i < li.length; i++) {
                li[i].style.display = "none";
            }
            errorMessage.style.display = "none";
        }
    }
</script>
</body>
</html>
